---
import "../styles/global.css";
import ProfileHeader from "../features/profile-header.astro";
import { Menu } from "../components/Menu";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <title>Sales Portal</title>

        <script type="importmap">
            {
                "imports": {
                    "react": "https://esm.sh/react@19.1.0",
                    "react-dom": "https://esm.sh/react-dom@19.1.0",

                    "lucide-react": "https://esm.sh/lucide-react@0.503.0",
                    "clsx": "https://esm.sh/clsx@2.1.1",
                    "class-variance-authority": "https://esm.sh/class-variance-authority@0.7.1",
                    "tailwind-merge": "https://esm.sh/tailwind-merge@3.2.0"
                }
            }
        </script>

        <!-- Opcional: preload do módulo -->
        <script type="module">
            import "react";
            import "react-dom";
            import "lucide-react";
            import "clsx";
            import "class-variance-authority";
            import "tailwind-merge";
            import "../features/profile-header.jsx";
            console.log("Todos os módulos foram pré-carregados");
        </script>
    </head>

    <body class="h-screen w-screen p-6">
        <div class="flex flex-col gap-8 h-full">
            <!-- Header stays persistent -->
            <ProfileHeader transition:persist />
            <div class="flex flex-col gap-8 h-full">
                <main class="grid grid-cols-5 gap-8 h-full">
                    <Menu client:load />
                    {/*  <slot />*/}
                </main>
            </div>
        </div>
    </body><style>
        html,
        body {
            margin: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</html>
